<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.uparttime.register.dao.RegisterMapper">
    <insert id="addUser" parameterType="String" useGeneratedKeys="true">  
       insert into u_user (username,password,registertime,lastlogin,phone) 
       values(#{0},md5(#{1}),NOW(),NOW(),#{2}
       	)  
    </insert> 
    <select id="testRegister"  resultType="int" parameterType="String">
	   select COUNT(*) from u_user where username=#{0} AND password=md5(#{1}) 
	</select>
	<select id="testUsername"  resultType="int" parameterType="String">
	   select COUNT(*) from u_user where username=#{0}
	</select>
	<select id="testPhone"  resultType="int" parameterType="String">
	   select COUNT(*) from u_user
	    <where>
	      phone=#{phone}
	    </where> 
	</select>
</mapper>